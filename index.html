<!DOCTYPE html>
<html lang="pt-BR" xml:lang="pt-BR">
  <head>
    <title>Criminalidade em SP</title>
    <meta charset="utf-8" />
    <script src="libs/header-attrs-2.3/header-attrs.js"></script>
    <link href="libs/remark-css-0.0.1/default.css" rel="stylesheet" />
    <link href="libs/remark-css-0.0.1/default-fonts.css" rel="stylesheet" />
    <script src="libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
    <script src="libs/jquery-1.12.4/jquery.min.js"></script>
    <link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
    <script src="libs/datatables-binding-0.14/datatables.js"></script>
    <link href="libs/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet" />
    <link href="libs/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet" />
    <script src="libs/dt-core-1.10.20/js/jquery.dataTables.min.js"></script>
    <link href="libs/crosstalk-1.1.0.1/css/crosstalk.css" rel="stylesheet" />
    <script src="libs/crosstalk-1.1.0.1/js/crosstalk.min.js"></script>
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Criminalidade em SP
## MAE5904 - MAE0501<br>Aprendizagem estatística em altas dimensões
### 
### IME USP
### Novembro de 2020

---



# Descrição do Problema 

--
- Segunda maior taxa de homicídios da América do Sul&lt;sup&gt;1&lt;/sup&gt;
- 27,5% de homicídios a cada 100 000 habitantes
- 12ª posição no ranking global de violência
- Necessidade de políticas públicas adequadas para segurança pública

.footnote[
[1] [Relatório ONU 2017](https://news.un.org/pt/story/2019/07/1679241)]

--

## Perguntas norteadoras

--
- Em que períodos do dia ocorrem mais crimes?
- Existe relação entre localização e horário?
- Que características das ocorrências são relacionadas ao período?


---
# Dados

- Boletins de ocorrência (BOs) da Secretaria de Seguraça Pública (SSP) do estado de São Paulo
- Escopo regional: Grande São Paulo
- Escopo temporal: 2016 e 2017
- Fonte: BOs disponibilizados em [Crime Data in Brazil (Kaggle)](https://www.kaggle.com/inquisitivecrow/crime-data-in-brazil)

--

## Possíveis variáveis de interesse

--
- Tipo de local da ocorrência
- Localização (latitude e longitude) da ocorrência
- Sexo da vítima
- Idade da vítima
- Envolvimento do autor do crime com a vítima
- Tipificação do crime


---

<div id="htmlwidget-8acc5df65febb17f8791" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-8acc5df65febb17f8791">{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30"],["ID_DELEGACIA","NOME_DEPARTAMENTO","NOME_SECCIONAL","NOME_DELEGACIA","CIDADE","ANO_BO","NUM_BO","NOME_DEPARTAMENTO_CIRC","NOME_SECCIONAL_CIRC","NOME_DELEGACIA_CIRC","NOME_MUNICIPIO_CIRC","DESCR_TIPO_BO","DATA_OCORRENCIA_BO","HORA_OCORRENCIA_BO","DATAHORA_COMUNICACAO_BO","FLAG_STATUS","RUBRICA","DESCR_CONDUTA","DESDOBRAMENTO","DESCR_TIPOLOCAL","DESCR_SUBTIPOLOCAL","LOGRADOURO","NUMERO_LOGRADOURO","LATITUDE","LONGITUDE","DESCR_TIPO_PESSOA","FLAG_VITIMA_FATAL","SEXO_PESSOA","IDADE_PESSOA","COR_CUTIS"],["Código da delegacia responsável pelo registro da ocorrencia","Departamento responsável pelo registro","Delegacia Seccional responsável pelo registro","Delegacia responsável pelo registro","Cidade de Registro","Ano da ocorrencia","Número do BO","Departamento de Circunscrição","Seccional de Circunscrição","Delegacia de Circunscrição","Município de Circunscrição","Tipo de Documento","Data da Ocorrência","Hora da Ocorrência","Data Hora da Comunicação da Ocorrência","Status da Ocorrência","Natureza jurídica da ocorrência","Conduta na Ocorrência","Desdobramento na Ocorrência","Tipo de Local","Descrição do subTipo de local","Logradouro dos fatos","Numero do Logradouro dos fatos","Latitude da Ocorrência","Longitude da Ocorrência","Qualificação do envolvido na ocorrência","Condição do Autor / Vítma na corrência","Sexo","Idade","Cor da Pele"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Variável<\/th>\n      <th>Descrição<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"order":[],"autoWidth":false,"orderClasses":false,"columnDefs":[{"orderable":false,"targets":0}]}},"evals":[],"jsHooks":[]}</script>


---
# Análise Descritiva


---
# Métodos utilizados

- Regressão Logística Multinomial
- Árvore de decisão
- Random forest
- KNN - K-Nearest Neighbor Classification
- XGBoost

---

## Regressão Logística Multinomial

--
- É usada para prever a categoria ou a probabilidade de uma categoria em uma variável dependente com base em várias variáveis independentes.

--
- As variáveis independentes podem ser dicotômicas (ou seja, binárias) ou contínuas (ou seja, intervalo ou razão em escala).

--
- É uma extensão da regressão logística binária que permite mais de duas categorias da variável dependente.


---
## Árvore de decisão

---
## Random Forest

--
- É um método de aprendizagem de conjunto para classificação, regressão e outras tarefas.

--
- Constroi uma infinidade de árvores de decisão no momento do treinamento 

--
- Gera a categorias que é a moda das categorias, no caso de classificação.

--
- Corrigem o hábito das árvores de decisão de sobreajustar os dados de treinamento. 



---
## KNN - K-Nearest Neighbor Classification

--
- Na classificação k-NN, a saída é uma associação de classe.

--
- Um objeto é classificado por uma pluralidade de votos de seus vizinhos, com o objeto sendo atribuído à classe mais comum entre seus k vizinhos mais próximos 

--
- Se k = 1, então o objeto é simplesmente atribuído à classe daquele único vizinho mais próximo.

--
- Valores maiores de k reduzem o efeito do ruído na classificação, mas tornam os limites entre as classes menos distintos.


---
## XGBoost

--
- XGBoost é um algoritmo de aprendizado de máquina baseado em árvore de decisão que usa uma estrutura de gradiente _boosting_.

--
- Regularização: penaliza modelos mais complexos por meio da regularização LASSO (L1) e Ridge (L2) para evitar _overfitting_.

--
- Validação cruzada: O algoritmo vem com método de validação cruzada embutido em cada iteração, eliminando a necessidade de programar explicitamente essa pesquisa e especificar o número exato de iterações de reforço necessárias em uma única execução.
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
